version: 2

models:
  - name: tessera_ethereum_vaults
    meta:
      blockchain: ethereum
      project: tessera
      contributors: [amadarrrr]
    config:
      tags: ["ethereum", "tessera", "vault"]
    description: >
      Tessera Vault created. A Vault can contain multiple NFTs.
    columns:
      - &vault_deployer
        name: deployer
        description: "Address of the contract that deployed the Vault"
        tests:
          - not_null
      - &vault_origin
        name: origin
        description: "Address of the originator"
        tests:
          - not_null
      - &vault_owner
        name: owner
        description: "Address of the Vault owner at the time of deployment"
        tests:
          - not_null
      - &vault
        name: vault
        description: "Address of the Vault"
        tests:
          - not_null
      - &timestamp
        name: timestamp
        description: "Timestamp when the action took place"
        tests:
          - not_null
      - &tx_hash
        name: tx_hash
        description: "Transaction hash for the transaction in which the action took place"
        tests:
          - not_null
  - name: tessera_ethereum_distributions
    meta:
      blockchain: ethereum
      project: tessera
      contributors: [amadarrrr]
    config:
      tags: ["ethereum", "tessera", "distribution", "auction"]
    description: >
      Rae auction/distribution started in Tessera. It contains all available auction styles (LPDA, etc).
    columns:
      - &auction_id
        name: id
        description: "Auction ID"
        tests:
          - not_null
      - &auction_type
        name: type
        description: "Type of Auction. For example, LPDA (Last Price Dutch Auction)"
        tests:
          - not_null
      - &token
        name: token
        description: "Generated token address"
        tests:
          - not_null
      - &auction_info
        name: info
        description: "Further information about the distribution"
      - *vault
      - *timestamp
      - *tx_hash
  - name: tessera_ethereum_bids
    meta:
      blockchain: ethereum
      project: tessera
      contributors: [amadarrrr]
    config:
      tags: ["ethereum", "tessera", "auction"]
    description: >
      Bid entered into a Tessera Auction. There are different types of auction styles like LPDA.
    columns:
      - *vault
      - &user
        name: user
        description: "Address of the end"
        tests:
          - not_null
      - *auction_type
      - &bid_price
        name: price
        description: "Price per Rae of the Bid (ETH)"
      - &bid_amount
        name: amount
        description: "Amount of Raes in the bid"
      - &bid_volume
        name: volume
        description: "Value of the bid (ETH)"
      - *timestamp
      - *tx_hash
  - name: tessera_ethereum_fees
    meta:
      blockchain: ethereum
      project: tessera
      contributors: [amadarrrr]
    config:
      tags: ["ethereum", "tessera", "auction"]
    description: >
      Fees generated by Tessera's Auctions. There are different types of auctions styles like LPDA.
    columns:
      - &fee_source
        name: source
        description: "Source of the fee. It could be 'LPDA' for LPDA auctions."
        tests:
          - not_null
      - *vault
      - &fee_amount
        name: amount
        description: "Amount of the fee (ETH)"
        tests:
          - not_null
      - &fee_receiver
        name: receiver
        description: "Address of the receiver of the fee"
        tests:
          - not_null
      - *timestamp
      - *tx_hash

